(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1209:(e,t,a)=>{Promise.resolve().then(a.bind(a,969))},969:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var r=a(7437),s=a(2265);let n=e=>{let{apiUrl:t}=e,[a,n]=(0,s.useState)([{user:"Bot",text:"Hola, soy un chatbot que te ayudar\xe1 a responder tus preguntas sobre algunas peliculas. Las peliculas que puedo responder son: - Basic Instinct - Catch Me if You Can \n- Dances with Wolves \n- Dead Poets Society \n- Jojo Rabbit \n- Slumdog Millionaire \n- The Godfather \n- The Matrix \n- The Prestige \n- Twelve Monkeys. Puedes hacerme una pregunta sobre alguna de estas peliculas y te responder\xe9 lo mejor que pueda."}]),[o,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(!1),[u,c]=(0,s.useState)(!1),g=async e=>{if(""===o.trim())return;d(!0);let a={user:"Me",text:o};n(e=>[...e,a]),l("");try{n(e=>[...e,{user:"Bot",text:"Typing"}]);let e=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:o})});if(e.ok){if(204===e.status)console.log("No logr\xe9 responder, puedes intentarlo nuevamente."),n(e=>[...e.slice(0,-1),{user:"Bot",text:"No logr\xe9 responder, puedes intentarlo nuevamente."}]);else{let t=e.body.getReader(),a="",r=new TextDecoder;for(;;){let{done:e,value:s}=await t.read();if(e)break;a+=r.decode(s,{stream:!0}),n(e=>[...e.slice(0,-1),{user:"Bot",text:a}])}}}}catch(t){n(e=>[...e.slice(0,-2)]),a.text.length>100?(alert("Ha ocurrido un error, se intentar\xe1 de nuevo con un mensaje m\xe1s chico."),l(a.text.slice(0,100)),await g()):e<3?(alert("Ha ocurrido un error, intentando enviar nuevamente."),await g(e+1)):alert("Ha ocurrido un error, se dej\xf3 de intentar.")}finally{d(!1)}};return(0,s.useEffect)(()=>{c(!0)},[]),(0,r.jsxs)("div",{className:"flex flex-col h-[70vh] min-w-[70vw] bg-gray-100 p-6 w-4/5 mx-auto",children:[(0,r.jsx)("div",{className:"flex-grow overflow-y-auto p-4 bg-white shadow-md rounded-lg",children:a.map((e,t)=>(0,r.jsx)("div",{className:"flex my-2 ".concat("Me"===e.user?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"p-2 rounded-md max-w-[70%] ".concat("Me"===e.user?"bg-blue-500 text-white":"bg-gray-200 text-gray-900"),children:[(0,r.jsxs)("strong",{children:[e.user,":"]})," ",e.text,i&&t===a.length-1&&(0,r.jsx)("span",{className:"dots"})]})},t))}),u?(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-2",children:[(0,r.jsx)("textarea",{className:"flex-grow p-2 border border-gray-300 rounded-md shadow-sm resize-none focus:outline-none focus:ring focus:ring-black text-black",rows:"2",placeholder:"Type your message...",value:o,onChange:e=>l(e.target.value),disabled:i}),(0,r.jsx)("button",{onClick:()=>g(0),disabled:i,className:"px-4 py-2 rounded-md text-white ".concat(i?"bg-gray-400 cursor-not-allowed":"bg-black hover:bg-gray-800"),children:"Send"})]}):(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:" Porfavor recargar la p\xe1gina "})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(1209)),_N_E=e.O()}]);